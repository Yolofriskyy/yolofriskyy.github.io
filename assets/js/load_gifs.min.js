document.addEventListener("DOMContentLoaded", function() {
  const gifs = document.querySelectorAll('.gif-wrapper img');
  let loadedGifs = 0;
  const loadingIndicator = document.getElementById('.loading-indicator');

  loadingIndicator.style.display = 'block';

  // Function to play all GIFs once loaded
  function playGifs() {
      gifs.forEach(gif => {
          gif.style.opacity = 1;
          const src = gif.getAttribute('src');
          gif.setAttribute('src', '');  
          gif.setAttribute('src', src); 
      });

      loadingIndicator.style.display = 'none';
  }

  // Check when each GIF is loaded
  gifs.forEach(gif => {
      gif.style.opacity = 0.5; // Set initial opacity to 0.5
      
      // If the image is already loaded, increment loadedGifs
      if (gif.complete) {
          loadedGifs++;
          gif.style.opacity = 1; // If already loaded, make it fully visible
      } else {
          gif.addEventListener('load', () => {
              loadedGifs++;
              if (loadedGifs === gifs.length) {
                  playGifs();
              }
          });
      }
  });

  // Call playGifs if all GIFs were already loaded
  if (loadedGifs === gifs.length) {
      playGifs();
  }
});